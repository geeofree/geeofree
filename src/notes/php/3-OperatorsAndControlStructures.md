---
title: 'Chapter 3: Operators & Control Structures'
description: Notable operators and control structures in PHP.
---

## Error Control Operator

Suppreses errors generated by an expression and is 
denoted with the `@` character.

The error generated by the expression can be fetched 
using the `'message'` element from `error_get_last()`.

```php
<?php
/* Intentional file error */
$my_file = @file ('non_existent_file') or
    die ("Failed opening file: error was '" . error_get_last()['message'] . "'");

// this works for any expression, not just functions:
$value = @$cache[$key];
// will not issue a notice if the index $key doesn't exist.
?>
```

## Execution Operators

Executes any shell command within backticks:

```php
<?php
$dirs = `ls -al`;
echo "<pre>$dirs</pre>";
?>
```

## Match

Evaluates an expression to multiple branches where each branch returns 
some value:

```php
<?php
$fruit = 'apple';

$eat_result = match ($fruit) {
  "apple" => "The apple tasted sweet.",
  "banana" => "The banana tasted sour.",
  "canteloupe" => "Canteloupe feels like an acquired taste.",
};

echo $eat_result;
?>
```

## Return

The `return` keyword in PHP can be used within a global scope or 
in a body of a function.

In both cases it stops further execution and passes control back 
to the line to were it was executed in both scopes.

Using a `return` in the global scope provides the value to the 
calling module that `include`d or `require`d it.

## Include/Require

`include` and `require` are two ways of evaluating other modules 
which a module can use in its own execution block.

The only difference being `include` shows a _warning_ while 
`require` shows an _error_ when something erroneous occurs 
(ie. non-existent files).

```php
<?php
// foo.php
$foo = 'value from foo'
return $foo
?>
```

```php
<?php
// bar.php
$my_foo = require 'foo.php';
echo "Got $my_foo";
?>
```

There is also the `require_once` and `include_once` that 
does the same thing but only gets instantiated once 
ie. PHP will not rerun the module if it already has 
been ran.

```php
<?php
// foo.php
$echo 'foo';
?>
```

```php
<?php
// bar.php
require 'foo.php';
require_once 'foo.php'; // Does not get ran since the file was already required.
require 'foo.php';
require 'foo.php';
?>
```
