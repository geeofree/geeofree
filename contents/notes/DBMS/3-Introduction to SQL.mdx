---
title: "Introduction to SQL"
category: "DBMS"
---

# 3.1 Database Schema

## Basic Types
- **char** A fixed-length string of characters.
- **varchar** A variable-length string of characters.
- **int** Integer type
- **float** Float type
- **numeric** Numeric type

## Creating tables
```sql
CREATE TABLE table_name (
  attribute_1 domain_1,
  attribute_2 domain_2,
  attribute_3 domain_3,
  ...
  attribute_n domain_n,
  [integrity constraint]
  [integrity constraint]
  [integrity constraint]
  ...
  [integrity constraint]
);
```

# 3.2 Basic SQL Query

```sql
SELECT attribute_1, attribute_2, attribute_3, ..., attribute_n
FROM table_1, table_2, table_3, ..., table_n
WHERE [predicate]
```

# 3.3 Additional Operations

## Renaming Clause
The **as** operator can rename an attribute from a `SELECT` clause or 
a table name in the `FROM` clause.

```sql
SELECT some_attribute AS some_other_name
FROM table_name AS some_other_table_name
```

## String Matching
Strings can be matched using the `LIKE` operator in a `WHERE` clause.

```sql
SELECT full_name FROM people WHERE full_name LIKE '%Ge_'
```

## Ordering Clause
The `ORDER BY` clause can be used to sort a relation based on a value for
any attribute(s).

```sql
SELECT full_name
FROM people
ORDER BY age
```

# 3.4 Set Operators

## Union Operator
Two relations can be unioned using the `UNION` operator.

```sql
(SELECT full_name FROM people WHERE age > 20)
UNION
(SELECT full_name FROM people WHERE age < 10)
```

## Intersection Operator
Two relations can be intersected using the `INTERSECT` operator.

```sql
(SELECT full_name FROM people WHERE age > 20)
INTERSECT
(SELECT full_name FROM people WHERE age < 25)
```


## Except Operator
Finding the set difference of two relations can be found by using the 
`EXCEPT` operator.

```sql
(SELECT full_name FROM people WHERE age > 20)
EXCEPT
(SELECT full_name FROM people WHERE age > 25)
```

# 3.5 Aggregate Functions

## Common Aggregate Functions
- **avg**
- **sum**
- **count**
- **min**
- **max**

## Grouping Records
To group records based on their attribute values, use the `GROUP BY` clause.

```sql
SELECT city, avg(age)
FROM people
GROUP BY city
```

**Note:** If `GROUP BY` is omitted, then the default is to treat all the queried
records as a single group.

**Note:** Only attributes found in the `GROUP BY` clause or aggregated attributes can 
be selected in the `SELECT` clause.

## Filtering Groups
To filter groups, use the `HAVING` clause.

```sql
SELECT city
FROM people
GROUP BY city
HAVING avg(age) > 10
```

## Order of Operations
1. `FROM` 
2. `WHERE`
3. `GROUP BY`
4. `HAVING`
5. `ORDER BY`
6. `SELECT`